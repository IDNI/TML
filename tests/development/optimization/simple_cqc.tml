r(?X ?Z) :- a(?X ?Y), b(?Y ?Z), c(?X ?W ), d(?W ?X).

#h() :- a(?x ?y), a(?y ?z), ~a(?x ?z).
#h() :- a(?a ?b), a(?c ?d), ~a(?b ?c).